#!/bin/sh

#set -e

PROG=libpsirp_conversions
#VERB=-v

echo "Testing successful ascii-to-ID conversions"
$PROG $VERB -e 0 -a "12::45/45::3323" 
$PROG $VERB -e 0 -a "::/::" 
$PROG $VERB -e 0 -a "12::/0000000000000000000000000000000000000000000000000000000000000000"
$PROG $VERB -e 0 -a "::12/0000000000000000000000000000000000000000000000000000000000000000"
$PROG $VERB -e 0 -a "0000000000000000000000000000000000000000000000000000000000000000/::12"
$PROG $VERB -e 0 -a "0000000000000000000000000000000000000000000000000000000000000000/12::"
$PROG $VERB -e 0 -a "0000000000000000000000000000000000000000000000000000000000000000/0000000000000000000000000000000000000000000000000000000000000000"
$PROG $VERB -e 0 -a "::"
$PROG $VERB -e 0 -a "12::34"
$PROG $VERB -e 0

echo "Testing illegal ascii-to-ID conversions"
$PROG $VERB -e 0 -a "123::1/22::33"
$PROG $VERB -e 0 -a "123::3/33::222"
$PROG $VERB -e 0 -a "123::12/22::22"
$PROG $VERB -e 0 -a "55::6"
$PROG $VERB -e 0 -a "/::2"
$PROG $VERB -e 0 -a "/"
$PROG $VERB -e 0 -a "::123/123::1"
$PROG $VERB -e 0 -a "::123/::"
$PROG $VERB -e 0 -a "::/123::1"
$PROG $VERB -e 0 -a "::/::123"
$PROG $VERB -e 0 -a "1234::2323/2322::2323/::33"
$PROG $VERB -e 0 -a "//"
$PROG $VERB -e 0 -a "2323::665::1234/0::3"


